Tracks on Rails
===============

Bugs
----
done 1. Select box on track connection delete does not refresh
done 2. XML feed seems broken?
done 3. Investigate migrations on prod side
done 4. Code in X_helpers should go into models
done 5. Google agressively caches the map paths
6.

Ideas
-----

From Don below: Todo: 17
From Ian 1-16 below: Todo: 6,8,9,12,15 | Done: 1,2,3,4,5,7,10,11,13,14,16
From Ian email below:

  I've been toying with potential track information features.  As a test, I've created a random collection of ideas at www.i-nth.com/trackbits/index.html
  The track's altitude profile chart would also be useful information, especially since hills are a prominant feature of most Wellington tracks.
  There are a few bugs in these examples.  For example the enlarged chart and slideshow images don't play nice with the Earth map type if they overlap (ie. the 3D map is always in front of the images) - but I suspect there isn't much I can do about that.
  The features on this page are just at the conceptual stage and require a bit more work.  Nonetheless, I think that at least some of them have potential.
  Thoughts?

Finish validations
Finish add track paths, including upload path file, GPX and KML
Finish email registration
Search: tracks, track_akas, areas, states (area_akas?)
Add area_akas?
Fix the whole page centering thing, go wide, maybe 1000 pixels...
User feature: favourite track(s)
User feature: preferred gmap display type
Front page image:
  1. plain pic
  2. "map" with clickable site features as destinations (home|random track|about|random pic|ride choosa|faq|terms|contact|...)
In track/show the track_aka code should be moved out of view


 
6. Altitude profile
 
Since hills are such a prominent feature of Wellington tracks, an altitude profile graph would be a great addition to each track’s description.  I’ve briefly toyed with an expandable image, but haven’t thought much beyond that about how the profile could be presented.
 
I have created a rough spreadsheet that extracts coordinate and altitude data from a gpx file.  It then calculates distances between the coordinate pairs, which creates the data needed for an altitude profile chart.  The spreadsheet also provides an option to smooth the altitude profile, taking out the inevitable glitches recorded by the GPS.
 
 
8. Numeric track names
 
You may recall that I broke something when I tried to create a track called ‘491’ in the Wainuiomata Trail Project.  The problem was, I assume, that the database refers to tracks by number which didn't work because track 491 doesn't exist.  You renamed the track ‘T491’, which fixed the problem but it isn’t quite right. 
 
Is there any way of allowing numeric track names?
 
  
12. Display multiple tracks on a map
 
It would be very helpful if we could display multiple tracks on a map.  Currently, it can be difficult to see how one track relates to others nearby.  If we could display the track of interest and nearby tracks on the same map, then it would be easier to understand how the tracks fit together.
 
One approach might be to rename the “Connecting Tracks” list to be a “Nearby Tracks”  list (since the tracks don’t necessarily connect, they might just be nearby) and use that list as a basis for adding their kml files to the currently displayed track map too.  The current and nearby tracks could be distinguished by using different colours, so that the focus is still on the current track.  Or something like that.
 
I have been playing with some offline examples of displaying multiple tracks on a map.  This works OK, provided there isn’t too much data – either long tracks with lots of points, or more than a few tracks – otherwise the browser complains about the time taken to run the JavaScript, or the map simply locks up.  There seems to be ways to deal with these issues, but I haven’t reached a conclusion yet.
 
As an aside, I updated the Car Parts Extension map to show actual and planned track using different colours.  This uses a single kml file to show multiple tracks, giving each its own style.  This approach works for that specific purpose, but wouldn’t work well for showing multiple tracks on a map – in that case, I think it is better to keep each track’s data in a separate file and just display them together when needed.




15. Bold formatting looks the same as a hyperlink - is there a way to avoid confusion between bold and links?



16. From Don below ----------------------- vvv --------------------------
Hi Don

Thanks for the great feedback.

Tracks is and has been a one-person (me!) development. And a slight difficulty is that I relocated to silicon valley about 4 months ago. Dev and maintenance has not stopped though. I have lots of discussions/ideas with Ian O'donoghue, he adds lots of write-ups and status updates.

I have a long list of ideas and tweaks to add as time allows.

I like your big kml file. I played around with lots of tracks per map some time ago but was getting some timeout issues. I have a TODO to look at showing the current tracks and the connecting tracks only, maybe this will work better? Currently each kml data set is simply stored as a file per track. I am in the process making this better. I have linked to your file from the Tracks front page. Will the tracks.kml file always be at that address?

Some answers to your ideas:

1. I used to have something like this and it's on the list to redo. I had what I called "classic routes" which was a loop that was made up from other tracks. Mt vic is tricky as there are heaps of tracks official and otherwise without names.

2. Good idea. Maybe a track could be rated by 'fun-ness', 'effort required', 'challenge' or something. Ratings can be quite subjective, but still useful if you have not ridden a track.

3. I kind of put this in the things for the future category. As for mailing list you can subscribe to rss and twitter for the 'recent reports'.

4. It's currently Welly only because that was where I lived. I have actually set it up so that it can be easily expanded to add other areas, or countries even. It would be fun to try expanding it within NZ. If you know someone who would be keen to add some track info for another NZ area we could try opening it up? Let me know!

Cheers
Jon

On 18/01/2009, at 5:55 pm, Don Jones wrote:

Hi tracks people

First I would like to say thanks for the great website, its incredibly useful and myself and a lot of guys I know are using it a lot.

The one thing that I find tho is that looking at the tracks on the site in the google maps view doesnt really give a good overview of how the tracks relate to each other. I am a big fan of google earth and thought it would be really useful if I could see all the tracks at once displayed in google earth. As I have done some work with KML perviously I decided to have a crack at producting a single kml file with all the tracks in it.

I have included the content so you can click on the icon to get the info, I have also color coded the tracks so different grades have different colors. I have made the kml and the script I use to produce it avalible online:

http://github.com/donovan/tracks/

if you just want the kml its here:

http://github.com/donovan/tracks/raw/af977e52b5112bd999bd7ec0bd6e27eb660f2c16/tracks.kml

the script i use is perl using the LWP and LibXML libraries. The kml is useful and usable but I do have quite a few TODO items for the script so expect some improvemnts.

The people Ive shown it to find it pretty useful and I use it a lot so I thought I would let you guys know about it in case you want to use it/make it avalible. If not thats cool, I'll just keep doing my own thing :) 

If you did want to use it then I would try to update it fairly often. Another possibilty would be for you to provide me with a database dump and I could modify my code to build the kml from the database rather than the screen scraping/parsing html and kml approach used now, or perhaps you are already planning a feature like this?

A couple of other suggestions:

1. add a new category called 'events' at the same level as 'tracks' and put things like NI XC Cup 2009, Wild Wellington Relay 2008, Karapoti etc etc. under there rather than putting the whole event loop under tracks which doesnt always seem appropriate.

2. add a 5 star rating widget for each track, red rocks is sure to get rated higher than ribs for example, this would let you know which tracks are probablly going to be the most fun when heading to a new area

3. ever thought about a forum or mailing list for tracks.org.nz?

4. add some new regions (state), would love to see some of the Rotorua tracks. Do you want to keep it Wellington only or is it just that nonoe has submitted anything for anywhere else? I would be interested in submitting tracks for Wanganui ...

Anyway, thanks again, great, useful site

Donovan

From Don above ----------------------- ^^^ --------------------------
